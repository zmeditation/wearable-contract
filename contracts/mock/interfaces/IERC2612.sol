// SPDX-License-Identifier: GPL-3.0-or-later

pragma solidity ^0.8.0;

/**
 * @dev Interface of the ERC2612 standard as defined in the EIP.
 *
 * Adds the {permit} method, which can be used to change one's
 * {IERC20-allowance} without having to send a transaction, by signing a
 * message. This allows users to spend tokens without having to hold Ether.
 *
 * See https://eips.ethereum.org/EIPS/eip-2612.
 */
interface IERC2612 {
    function DOMAIN_SEPARATOR() external view returns (bytes32);

    /**
     * @dev Returns the current ERC2612 nonce for `owner`. This value must be
     * included whenever a signature is generated for {permit}.
     *
     * Every successful call to {permit} increases ``owner``'s nonce by one. This
     * prevents a signature from being used multiple times.
     */
    function nonces(address owner) external view returns (uint256);

    /**
     * @dev Sets `value` as allowance of `spender` account over `owner` account's token, 
     * given `owner` account's signed approval.
     * Emits {Approval} event.
     * Requirements:
     *   - `deadline` must be timestamp in future.
     *   - `v`, `r` and `s` must be valid `secp256k1` signature from `owner` account over 
     *      EIP712-formatted function arguments.
     *   - the signature must use `owner` account's current nonce (see {nonces}).
     *   - the signer cannot be zero address and must be `owner` account.
     * For more information on signature format, see 
     * https://eips.ethereum.org/EIPS/eip-2612#specification[relevant EIP section].
     */
    function permit(
        address owner,
        address spender,
        uint256 value,
        uint256 deadline,
        uint8 v, bytes32 r, bytes32 s
    ) external;
    
    /**
     * @dev Same as permit, but also performs a transfer
     */
    function transferWithPermit(
        address owner,
        address to,
        uint256 value,
        uint256 deadline,
        uint8 v, bytes32 r, bytes32 s
    ) external returns (bool);
}